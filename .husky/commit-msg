#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Récupérer le message de commit
commit_msg=$(cat "$1")

# Vérifier le format du message de commit
if ! echo "$commit_msg" | grep -qE '^(feat|fix|docs|style|refactor|test|chore)(\([a-z-]+\))?: .+'; then
  echo "❌ Format de message de commit invalide"
  echo "⚠️  Format attendu: type(scope): description"
  echo "⚠️  Types autorisés:"
  echo "   - feat: Nouvelle fonctionnalité"
  echo "   - fix: Correction de bug"
  echo "   - docs: Documentation"
  echo "   - style: Formatage"
  echo "   - refactor: Refactoring"
  echo "   - test: Tests"
  echo "   - chore: Maintenance"
  echo "⚠️  Exemple: feat(auth): ajout de l'authentification"
  exit 1
fi
